!function(){if("undefined"!=typeof Prism&&Prism.languages.diff){var g=/diff-([\w-]+)/i,u=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/gi,c=RegExp("(?:__|[^\r\n<])*(?:\r\n?|\n|(?:__|[^\r\n<])(?![^\r\n]))".replace(/__/g,function(){return u.source}),"gi"),v=Prism.languages.diff.PREFIXES;Prism.hooks.add("before-sanity-check",function(r){var i=r.language;g.test(i)&&!r.grammar&&(r.grammar=Prism.languages[i]=Prism.languages.diff)}),Prism.hooks.add("before-tokenize",function(r){var i=r.language;g.test(i)&&!Prism.languages[i]&&(Prism.languages[i]=Prism.languages.diff)}),Prism.hooks.add("wrap",function(r){var i,s;if("diff"!==r.language){var n=g.exec(r.language);if(!n)return;i=n[1],s=Prism.languages[i]}if(r.type in v){var f,m=r.content.replace(u,"").replace(/&lt;/g,"<").replace(/&amp;/g,"&"),e=m.replace(/(^|[\r\n])./g,"$1");f=s?Prism.highlight(e,s,i):Prism.util.encode(e);var P,a=new Prism.Token("prefix",v[r.type],[/\w+/.exec(r.type)[0]]),t=Prism.Token.stringify(a,r.language),o=[];for(c.lastIndex=0;P=c.exec(f);)o.push(t+P[0]);/(?:^|[\r\n]).$/.test(m)&&o.push(t),r.content=o.join(""),s&&r.classes.push("language-"+i)}})}}();