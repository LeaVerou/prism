!function(e){var t=/\[%[\s\S]+?%\]|^%%*?/;e.languages.tt2=e.languages.extend("markup",{tt2:{pattern:t,inside:{comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0},delimiter:{pattern:/^(?:\[%|%%)-?|-?%]$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,keyword:/\b(?:GET|CALL|SET|DEFAULT|INSERT|INCLUDE|PROCESS|WRAPPER|BLOCK|IF|UNLESS|ELSIF|ELSE|SWITCH|CASE|FOREACH|WHILE|FILTER|USE|MACRO|RAWPERL|PERL|TRY|THROW|CATCH|FINAL|NEXT|LAST|RETURN|STOP|CLEAR|META|TAGS|DEBUG)\b/,operator:/\b(?:=>|==|!=|<|<=|>|>=|&&\|\|!|and|or|not)\b/,punctuation:/[[\]{},]/,variable:/[a-zA-Z][\.\/\$a-zA-Z0-9]*/}}}),e.hooks.add("before-highlight",function(e){"tt2"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(t,function(t){for(var a=e.tokenStack.length;-1!==e.backupCode.indexOf("___TT2"+a+"___");)++a;return e.tokenStack[a]=t,"___TT2"+a+"___"}))}),e.hooks.add("before-insert",function(e){"tt2"===e.language&&(e.code=e.backupCode,delete e.backupCode)}),e.hooks.add("after-highlight",function(t){if("tt2"===t.language){for(var a=0,n=Object.keys(t.tokenStack);a<n.length;++a){var o=n[a],i=t.tokenStack[o];t.highlightedCode=t.highlightedCode.replace("___TT2"+o+"___",e.highlight(i,t.grammar,"tt2").replace(/\$/g,"$$$$"))}t.element.innerHTML=t.highlightedCode}})}(Prism),Prism.languages.tt=Prism.languages.tt2;