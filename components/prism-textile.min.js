!function(e){function i(i){return e.patterns.build(i,{mod:n})}var n="(?:\\([^|)]+\\)|\\[[^\\]]+\\]|\\{[^}]+\\})+",t={css:{pattern:/\{[^}]+\}/,inside:{rest:e.languages.css}},"class-id":{pattern:/(\()[^)]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/};e.languages.textile=e.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:i("^[a-z]\\w*(?:<<mod>>|[<>=()])*\\."),inside:{modifier:{pattern:i("(^[a-z]\\w*)(?:<<mod>>|[<>=()])+(?=\\.)"),lookbehind:!0,inside:t},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:i(/^[*#]+<<mod>>?\s+.+/m),inside:{modifier:{pattern:i("(^[*#]+)<<mod>>"),lookbehind:!0,inside:t},punctuation:/^[*#]+/}},table:{pattern:i(/^(?:(?:<<mod>>|[<>=()^~])+\.\s*)?(?:\|(?:(?:<<mod>>|[<>=()^~_]|[\\\/]\d+)+\.)?[^|]*)+\|/m),inside:{modifier:{pattern:i("(^|\\|(?:\\r?\\n|\\r)?)(?:<<mod>>|[<>=()^~_]|[\\\\/]\\d+)+(?=\\.)"),lookbehind:!0,inside:t},punctuation:/\||^\./}},inline:{pattern:i("(\\*\\*|__|\\?\\?|[*_%@+\\-^~])<<mod>>?.+?\\1"),inside:{bold:{pattern:i("(^(\\*\\*?)<<mod>>?).+?(?=\\2)"),lookbehind:!0},italic:{pattern:i("(^(__?)<<mod>>?).+?(?=\\2)"),lookbehind:!0},cite:{pattern:i("(^\\?\\?<<mod>>?).+?(?=\\?\\?)"),lookbehind:!0,alias:"string"},code:{pattern:i("(^@<<mod>>?).+?(?=@)"),lookbehind:!0,alias:"keyword"},inserted:{pattern:i("(^\\+<<mod>>?).+?(?=\\+)"),lookbehind:!0},deleted:{pattern:i("(^-<<mod>>?).+?(?=-)"),lookbehind:!0},span:{pattern:i("(^%<<mod>>?).+?(?=%)"),lookbehind:!0},modifier:{pattern:i("(^\\*\\*|__|\\?\\?|[*_%@+\\-^~])<<mod>>"),lookbehind:!0,inside:t},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:i('"<<mod>>?[^"]+":.+?(?=[^\\w/]?(?:\\s|$))'),inside:{text:{pattern:i('(^"<<mod>>?)[^"]+(?=")'),lookbehind:!0},modifier:{pattern:i('(^")<<mod>>'),lookbehind:!0,inside:t},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:i("!(?:<<mod>>|[<>=()])*[^!\\s()]+(?:\\([^)]+\\))?!(?::.+?(?=[^\\w/]?(?:\\s|$)))?"),inside:{source:{pattern:i("(^!(?:<<mod>>|[<>=()])*)[^!\\s()]+(?:\\([^)]+\\))?(?=!)"),lookbehind:!0,alias:"url"},modifier:{pattern:i("(^!)(?:<<mod>>|[<>=()])+"),lookbehind:!0,inside:t},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^)]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:TM|R|C)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}});var a={inline:e.languages.textile.phrase.inside.inline,link:e.languages.textile.phrase.inside.link,image:e.languages.textile.phrase.inside.image,footnote:e.languages.textile.phrase.inside.footnote,acronym:e.languages.textile.phrase.inside.acronym,mark:e.languages.textile.phrase.inside.mark};e.languages.textile.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,e.languages.textile.phrase.inside.inline.inside.bold.inside=a,e.languages.textile.phrase.inside.inline.inside.italic.inside=a,e.languages.textile.phrase.inside.inline.inside.inserted.inside=a,e.languages.textile.phrase.inside.inline.inside.deleted.inside=a,e.languages.textile.phrase.inside.inline.inside.span.inside=a,e.languages.textile.phrase.inside.table.inside.inline=a.inline,e.languages.textile.phrase.inside.table.inside.link=a.link,e.languages.textile.phrase.inside.table.inside.image=a.image,e.languages.textile.phrase.inside.table.inside.footnote=a.footnote,e.languages.textile.phrase.inside.table.inside.acronym=a.acronym,e.languages.textile.phrase.inside.table.inside.mark=a.mark}(Prism);