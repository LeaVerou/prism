!function(c){function f(e){return"___PLACEHOLDER_"+e+"___"}function p(e){return"string"==typeof e?e:Array.isArray(e)?e.map(p).join(""):p(e.content)}function o(e,t){for(var r=c.tokenize(e,t.grammar),n="",y={},a=0,o=t.getPlaceholder||f,i=0,s=r.length;i<s;i++){var g=r[i];if("string"==typeof g)n+=g;else if(/^ignore/.test(g.type))n+=p(g);else{for(var l;-1!==e.indexOf(l=o(a++)););y[l]=g,n+=l}}return{code:n,interpolate:function(e){var u=t.getValue,m=Object.keys(y),d=0;!function e(t){for(var r=0;r<t.length;r++){if(d>=m.length)return;var n=t[r],a="string"==typeof n?n:n.content;if("string"==typeof a){var o=m[d],i=a,s=i.indexOf(o);if(-1!==s){++d;var g=i.substring(0,s),l=u(y[o]),c=i.substring(s+o.length),f=[];if(g&&f.push(g),Array.isArray(l)?f.push.apply(f,l):f.push(l),c){var p=[c];e(p),f.push.apply(f,p)}"string"==typeof n?(t.splice.apply(t,[r,1].concat(f)),r+=f.length-1):n.content=f}}else Array.isArray(a)?e(a):e([a])}}(e)}}}var i="__templatingState";c.hooks.add("after-tokenize",function(e){var t=e[i];t&&(delete e[i],e.code=t.code,e.grammar=t.grammar,t.interpolate(e.tokens))}),Object.defineProperties(c.languages.templating={},{createTemplate:{value:o},tokenizeWithHooks:{value:function(e,t,r){var n={code:e,grammar:t,language:r},a=c.hooks.run;return a("before-tokenize",n),n.tokens=c.tokenize(n.code,n.grammar),a("after-tokenize",n),n.tokens}},replaceWithTemplate:{value:function(e,t,r){"string"==typeof e&&(e=c.languages[e]);var n=o(t.code,r),a={grammar:t.grammar,code:t.code,interpolate:n.interpolate};t.code=n.code,t.grammar=e,t[i]=a}}})}(Prism);