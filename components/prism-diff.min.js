!function(u){u.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d+.*$/m]};var d={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(d).forEach(function(e){var a=d[e],n=[];/^\w+$/.test(e)||n.push(/\w+/.exec(e)[0]),"diff"===e&&n.push("bold"),u.languages.diff[e]={pattern:RegExp("^(?:["+a+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:n}});var c=/diff-([\w-]+)/i,p=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/gi,h=RegExp("(?:__|[^\r\\n<])*(?:\r\\n?|\n|(?:__|[^\r\\n<])(?![^\r\\n]))".replace(/__/g,p.source),"gi");u.hooks.add("before-sanity-check",function(e){var a=e.language;c.test(a)&&!e.grammar&&(e.grammar=u.languages[a]=u.languages.diff)}),u.hooks.add("before-tokenize",function(e){var a=e.language;c.test(a)&&!u.languages[a]&&(u.languages[a]=u.languages.diff)}),u.hooks.add("wrap",function(e){var a,n;if("diff"!==e.language){var s=c.exec(e.language);if(!s)return;a=s[1],n=u.languages[a]}if(e.type in d){var g,r=e.content.replace(p,"").replace(/&lt;/g,"<").replace(/&amp;/g,"&"),i=r.replace(/(^|[\r\n])./g,"$1");g=n?u.highlight(i,n,a):u.util.encode(i);var t,f=new u.Token("prefix",d[e.type],[/\w+/.exec(e.type)[0]]),l=u.Token.stringify(f,e.language),o=[];for(h.lastIndex=0;t=h.exec(g);)o.push(l+t[0]);/(?:^|[\r\n]).$/.test(r)&&o.push(l),e.content=o.join(""),n&&e.classes.push("language-"+a)}})}(Prism);