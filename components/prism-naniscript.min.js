!function(t){"use strict";var n=/[\t ]{1}/,a=function(t){return void 0===t&&(t=!0),t?/\{[^\r\n\[\]{]*\}(?=[^\r\n\[\]\}]*)/m:/\{[^\r\n\[\]{}]*\}/};(t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t).languages.naniscript={comment:{pattern:/^;[^\r\n]*$/m},define:{pattern:/^>.+$/m,alias:"tag",inside:{value:{pattern:/(^>[a-zA-Z0-9_]+)[\t ]{1}[^{}\r\n]+/,alias:"punctuation",lookbehind:!0,inside:{_hor_space:/^[\t ]{1}/,_template:/.*/}},key:{pattern:/(^>)[a-zA-Z0-9_]+/,lookbehind:!0}}},label:{pattern:/^[\t ]*[#]{1}[\t ]?[a-zA-Z0-9]+[\t ]?$/m,lookbehind:!0,alias:"regex",inside:{_hor_space:n,value:/[^# ]+/}},"generic-text":{pattern:/^[^#@>;\s]{1}.*$/m,alias:"punctuation",inside:{"escaped-char":{pattern:/\\[{}\[\]"]{1}/m},expression:{pattern:a(),greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*[a-zA-Z0-9_]+[^\r\n\[]*\]/m,alias:"function",inside:{"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/},"command-param-name":{pattern:/^(\[)[\t ]*[a-zA-Z0-9_]+/,alias:"name",lookbehind:!0},"start-stop-char":/[\[\]]{1}/,"command-param-value":{pattern:a(!1),alias:"selector"},"command-param-id":{alias:"property",pattern:/([^"\\]?) [a-zA-Z0-9_]+:/,lookbehind:!0}}}}},command:{pattern:/^([\t ]*)@[a-zA-Z0-9_]+(?=[\t ]+[\S]{1,}|[\t ]+['"][\S]|[\t ]+$|$).*/m,lookbehind:!0,alias:"function",inside:{expression:{pattern:a(),greedy:!0,alias:"selector"},"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/},whitespaces:{pattern:/[\t ]+$/},"command-name":{pattern:/^[\t ]*@[a-zA-Z0-9_]+/},"command-params":{pattern:/[^\n]+$/,inside:{"command-param-id":{alias:"property",pattern:/([^"\\]?) [a-zA-Z0-9_]+:/,lookbehind:!0},_hor_space:n}}}}},t.languages.nani=t.languages.naniscript,t.hooks.add("after-tokenize",function(e){e.tokens.map(function(t,n){if("generic-text"===t.type){var a=function n(t,a){a=a||[];"string"==typeof t?a.push(t):"string"==typeof t.content?a.push(t.content):Array.isArray(t.content)&&t.content.forEach(function(t){n(t,a)});return a}(t,[]).join("");r(a)||(t.type="bad-line",t.content=a,e.tokens[n]=t)}return!1})});var r=function(t){for(var n=[],a=0,e=t;a<e.length;a++){var r=e[a],i="[]{}".indexOf(r);if(-1!==i)if(i%2==0)n.push(i+1);else if(n.pop()!==i)return!1}return 0===n.length}}(Prism);